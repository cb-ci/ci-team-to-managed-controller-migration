removeStrategy:
  rbac: SYNC
  items: NONE
items:
- kind: managedController
  name: ${CONTROLLER_NAME}
  configuration:
    kubernetes:
      allowExternalAgents: false
      terminationGracePeriodSeconds: 1200
      image: CloudBees CI - Managed Controller - ${CONTROLLER_IMAGE_VERSION}
      memory: 4096
      fsGroup: '1000'
      cpus: 1.0
      readinessTimeoutSeconds: 5
      livenessInitialDelaySeconds: 300
      readinessInitialDelaySeconds: 30
      clusterEndpointId: default
      disk: 50
      readinessFailureThreshold: 100
      livenessTimeoutSeconds: 10
      storageClassName: nfs-client
      domain: ${CONTROLLER_NAME}
      livenessPeriodSeconds: 10
      javaOptions: -XshowSettings:vm -XX:+AlwaysPreTouch -XX:+UseG1GC -XX:+DisableExplicitGC
        -XX:+ParallelRefProcEnabled -XX:+UseStringDeduplication -Dhudson.slaves.NodeProvisioner.initialDelay=0
      yaml: "kind: \"StatefulSet\"\nspec:\n  template:   \n    metadata:\n      annotations:\n\
        \        prometheus.io/scrape: \"true\"\n        prometheus.io/port: \"8080\"\
        \n        prometheus.io/path: \"/${name}/prometheus/\"\n    spec:\n      priorityClassName:\
        \ essential-masters       \n      containers:\n      - name: \"jenkins\"\n \
        \       volumeMounts:\n        - mountPath: /var/run/secrets/\n          name:\
        \ ses-smtp-password\n      volumes:\n      - name: ses-smtp-password\n     \
        \   secret:\n          defaultMode: 420\n          secretName: ses-smtp-password"
  description: ''
  displayName: ${CONTROLLER_NAME}
  properties:
  - configurationAsCode:
      bundle: ${BUNDLE_NAME}
  - sharedHeaderLabelOptIn:
      optIn: true
  - healthReporting:
      enabled: true
  - optOutProperty:
      securityEnforcerOptOutMode:
        optOutNone: {
          }
  - owner:
      delay: 5
      owners: ''
  - envelopeExtension:
      allowExceptions: false
  - sharedConfigurationOptOut:
      optOut: false
